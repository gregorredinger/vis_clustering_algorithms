<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>VIS Clustering Algorithms</title>
    <style type="text/css">
        h1, h2, h3 {
            line-height: 1.2;
        }

        body {
            margin: 40px auto;
            max-width: 750px;
            line-height: 1.6;
            font-family: -apple-system, BlinkMacSystemFont, “Segoe UI”, Roboto, Helvetica, Arial, sans-serif;
            font-size: 18px;
            color: #444;
            padding: 0 10px;
        }

        p {
            text-align: justify;
        }

        div {
            width: fit-content;
            margin: 0 auto;
        }

        figure {
            float: inherit;
            display: table;
            font-style: italic;
            font-size: smaller;
            text-indent: 0;
            border: thin silver solid;
            vertical-align: top;
            margin: 0.5em;
            padding: 0.5em;
        }
        figure img{

            display: block;
            margin-left: auto;
            margin-right: auto;
            max-width: 700px;
        }
        figcaption {
            display: table-caption;
            caption-side: bottom;
            text-align: justify;
        }

        hr {
            display: block;
            margin: 0.5em auto;
            border: 1px inset;
        }

        .e-mail:before {
            content: attr(data-website) "\0040" attr(data-user);
            unicode-bidi: bidi-override;
            direction: rtl;
        }
    </style>
</head>

<header>
    <h1>VIS2017 - Project Proposal<br/>
        Visualization of Clustering Algorithms</h1>
</header>

<body>
<p>
    Link to final presentation: <br />
    <a href="https://1drv.ms/f/s!Aq-SKVUJeFr8iuArr8Bl-7a_ZxU0wQ"> https://1drv.ms/f/s!Aq-SKVUJeFr8iuArr8Bl-7a_ZxU0wQ</a>
</p>
<p>
    Link to M3 presentation: <br />
    <a href="https://1drv.ms/p/s!AjnVmthTIYPvgad2Ex4NWvFMiNXaSw"> https://1drv.ms/p/s!AjnVmthTIYPvgad2Ex4NWvFMiNXaSw</a>
</p>
<p>
    Link to our hi-fidelity prototype: <br/>
    <a href="https://gregorredinger.github.io/vis_clustering_algorithms/dist/index.html"> https://gregorredinger.github.io/vis_clustering_algorithms/dist/index.html</a>
</p>
<p>
    Link to this website: <br/>
    <a href="https://gregorredinger.github.io/vis_clustering_algorithms/index.html">https://gregorredinger.github.io/vis_clustering_algorithms/index.html </a> <br/>
</p>
<p>
    This report features animated illustrations and is therefore best viewed in a web browser
</p>
<h2>Group Members</h2>

<table style="width: 100%">
    <tr>
        <td>
            <p>
                Markus Hunner<br/>
                01503441<br/>
                <span class="e-mail" data-user="sukramrennuh" data-website="moc.liamg"></span>
            </p>
        </td>
        <td>
            <p>
                Gregor Redinger<br/>
                01163940 <br/>
                <span class="e-mail" data-user="regniderrogerg" data-website="moc.liamg"></span>
            </p>
        </td>
    </tr>
</table>

<p>
    <a href="https://gregorredinger.github.io/vis_clustering_algorithms/M1/index.html">M1 - first version of project proposal</a> <br/>
    <a href="https://gregorredinger.github.io/vis_clustering_algorithms/M2/index.html">M2 - low-fi Prototypes</a>
</p>

<h2>Project Specification</h2>
<p>
    In our Project we have the goal to provide a visualization for the OPTICS Clustering Algorithm.
    For a short introduction to the OPTICS algorithm see:
    <a href="https://en.wikipedia.org/wiki/OPTICS_algorithm">OPTICS algorithm - From Wikipedia, the free encyclopedia</a> <br/>
    The OPTICS algorithm was first published in: </p>
    <p>Mihael Ankerst, Markus M. Breunig, Hans-Peter Kriegel, Jörg Sander:
        "OPTICS: Ordering Points To Identify the Clustering Structure."
        ACM SIGMOD international conference on Management of data. ACM Press. pp. 49–60. (1999)</p>
<p>
    The paper can be found online at: <br/>
    <a href="http://www.dbs.informatik.uni-muenchen.de/Publikationen/Papers/OPTICS.pdf">http://www.dbs.informatik.uni-muenchen.de/Publikationen/Papers/OPTICS.pdf</a>
</p>
<p>
    As suggested in the grading for M2 we decided to offer several preselected datasets. The dataset used in the following
    screenshots is a mockup dataset, that features several cluster arrangements, which need an hierarchical clustering solution
    to get right. With this dataset it's easy to explain how hierarchical clustering works and how the results have to interpreted.
    As this is a dataset specifically designed to show off hierarchical clustering it's easy to achieve perfect results.
</p>
<p>
    To demonstrate the benefits of our visualization approach in a more realistic setting we included two different 2D-Interpretations
    of <a href="https://en.wikipedia.org/wiki/Iris_flower_data_set">Fisher's Iris flower data set</a> published in 1936
    under the title "The use of multiple measurements in taxonomic problems as an example of linear discriminant analysis".
    The dataset features three clusters corresponding to the species Iris setosa, Iris virginica and Iris versicolor.
    While Iris setosa can be easily distinguished from the two other species, the clusters of Iris virginica and Iris versicolor are
    interwoven. This usually leads to results where those two are interpreted as one big cluster. Although OPTICS is unable to produce perfect
    or good results for this dataset our visualization approach allows a user to easily identify that the "big" cluster holds more information
    than the OPTICS result suggests. By interactively exploring the parameter space for &epsilon; the user is able to see that strict interpretations of
    what a cluster should be, lead to a dense area in the "big" cluster. This dense area usually corresponds to Iris versicolor or
    Iris virginica. With enough patience it is even possible to find a &epsilon;' where both species can be distinguished with the disadvantage of interpreting many points as noise.
    While those clustering results are still far from perfect our visualization allows the user to assume that the result may be unsatisfactory and even gives hints
    what subspace or subset of the data should be examined with other categorization techniques.
</p>
<div>
    <figure>
        <img src="img/M3/Iris_dataset_scatterplot.png" alt="the two iris dataset interpretations provided by our application">
        <figcaption>the two 2D interpretations of the Iris dataset provided by our Application marked in red
        </figcaption>
    </figure>
</div>

<h3>Current Visualization Design</h3>

<img src="img/m3_design/m3_1.png" alt="" width="700px" style="border: 1px solid black;">
<p>
    Our Visualization is designed as a Single Page Application. In the navigation section we provide links to our project
    page (for more information about our ideas for the visualization) and to our github page (for more information about our code).
    The application itself is divided into two sections. The „config“ section is the place, were a user can upload his
    data and adjust the Optics Algorithm by changing the parameters epsilon and minPts.
</p>
<p>
    We also provide three sets of test data, so a user can test our application without a dataset.
</p>
<img src="img/m3_design/m3_2.png" alt="" width="700px" style="border: 1px solid black;">
<p>
The „analyze“ section is the place, where the user can examine his inserted Data.
</p>
<img src="img/m3_design/m3_3.png" alt="" width="700px" style="border: 1px solid black;">
<p>
Using the reachability plot as a scented widget allows the user to use a slider to set a &epsilon;' interactivly. The selected
    cutoff colors the shown data to differentiate the clusters at this &epsilon;'-value. Coloring a reachability plot is usually
    not a feature included with implementations of the optics-algorithm. It is assumed that a user knows how to interpret
    a reachability plot and therefore doesn't need such a visual help. However we implemented a function to color the data points
    in a reasonable manner, which supports up to 20 clusters.
    The colorization can also be seen in the scatterplot and makes it easy to identify clusters in a 2-dimensional space.
</p>
<div>
    <figure>
        <img src="img/M3/epsilonSlider.gif" alt="a gif of our epsilon scented widget">
        <figcaption>this gif-animation shows how to use the reachability plot as a scented widget
        </figcaption>
    </figure>
</div>
<p>
    playing with the &epsilon;' slider allows a user to explore the cluster hiararchies in a interactive way. The displayed value
    for &epsilon;' allows the viewer to identify the exact cutoff at which clusters are divided into several subclusters or snap together
    into bigger clusters.
</p>
<div>
    <figure>
        <img src="img/M3/hierarchicalExploration.gif" alt="a gif of the hierarchy exploration">
        <figcaption>this gif-animation shows how cluster hierarchies can be explored
        </figcaption>
    </figure>
</div>
<p>
    Both, the scatterplot and the reachability plot provide a highlighting function on mouse over. The selected data point
    changes its color to a darker tone to allow identification of the position in both views. Additionally the range query
    radius used by the OPTICS algorithm is shown in the scatterplot. A tooltip in the reachability plot shows the calculated
    reachability distance for the highlighted point.
</p>
<div>
    <figure>
        <img src="img/M3/tooltip_rangeQuery.PNG" alt="highlighting a datapoint">
        <figcaption>linking scatter- and reachability-plot with a highlighting function
        </figcaption>
    </figure>
</div>


<h3>Iterating on use cases from milestone M2</h3>
Use Case 1 - Finding Customers with a high Income that lives in a specific street
<p>
    Frank, the owner of a local grocery store wants to offer his customers the option of a 10 Minute delivery,
    to compete with Amazon Fresh, that started recently in his city. Because a 10 minute delivery is not possible in the whole city,
    he plan to restrict his offer to a specific street. He also thinks that only people with a relatively high income are willing to pay the delivery fee,
    so he want to limit his marketing to these kind of people. Thankfully he had a list with the income and the residence of all people of his city as json.
    The problem is to evaluate the list by himself would take way too much time, so he decided to use our application instead.
</p>

<img src="img/m3_design/m3_4.png" alt="" width="700px">

<p>
    At first he imports his list Data in our application and adjust the epsilon and minpts parameters.
    After analyzing the scatterplot (left top), he quickly see that the customers with high income are in a blue cluster
    in the top-right of the scatterplot.  Now he searches in the spreadsheet view (right-top) after all entries with the street,
    where he plan to offer his delivery service. Because all clusters are colored in the table view, he can complete his search in no time.
</p>
<p>
    Use Case 2 - Offering tutoring classes
</p>
<p>
    Mr Fisher is the principal of a high school and he plan to offer some tutoring classes to his pupils, but because his budget is limited,
    he is only able to build a limited number of that classes. So he decided to only offer them in disciplines where many pupils have problems.
    He had a list of his pupils and their grades and analyzes them with our Application.
</p>
<p>
    He uploads the json file and click calculate. Then he switches to the analyze tab. He doesn't need help during this workflow, because the concept
    "first config then analyze" seems very natural and logical to him. He adjust the epsilon value with the histogram view and examine the
    clusters in the scatterplot. He decided to examine the clusters even further and switch to the spreadsheet. The Rows are colored in
    the cluster colors so he is able to find the list of pupils, belonging to a specific cluster really fast.
</p>
<p>
    Now he knows which pupils had problems in specific disciplines and where he can offer tutoring classes with the highest efficiency.
</p>





<h3>Difference between Low-Fi-Prototypes and Hi-Fi-Prototype</h3>
<p>
    For now we dropped every dashboard except for the one shown below. We replaced the net view with the table view from
    a other dashboard discussed in M2 as this makes it easier to show the proper functioning of our result visualization.
</p>
<div>
    <figure>
        <img src="img/Dashboard_1_Blasen_Netzdarstellung.png" alt="Dashboard1" >
        <figcaption>The Dashboard currently implemented in our Prototyp. The net view was replaced with the table view from M2
        </figcaption>
    </figure>
</div>

<p>
    According to the suggestions we get on M2, we decided to make some major changes to our original design.
</p>
<p>
    Our first change was the separation of inserting data and adjust the algorithm parameters from examining the algorithm results. So we separate this two tasks in a config page (inserting data and adjust the algorithm) and a analyze page(examining the algorithm results).
</p>
<p>
    As suggested we abandoned the usage of drop down menus and use a histogram with a slider instead. According to the
    position of the slider (which represents the epsilon value) the histogram show the currently detected clusters in
    different colors. A horizontal line on the right side of the slider, which spans the whole length of the histogram,
    makes it easier to see, how a reachability plot has to be interpreted.
</p>

<h2>Open Challenges and Problems</h2>
<h3>Dendrograms in d3</h3>
    <div>
        <figure>
            <img src="img/M3/RIdYg.png" alt="a dendrogram visualizing the cluster hierarchy">
            <figcaption>a dendrogram visualizing the cluster hierarchy
            </figcaption>
        </figure>
    </div>
<p>M2 featured several visualizations utilizing cluster dendrograms. Unfortunatly there exist no easy way to generate those
with d3. The suggestion most often found, advises to use a visualization similar to what we called Graph- or Tree-View
    in M2. Unfortunately this means to lose the information encoded by the single axis of a dendrogram, the &epsilon;-Axis.
While a tree view still perserves the information on cluster hierarchies, it is not possible to decide on a possible
    &epsilon;-cutoff with this form of visualization. Additionally we lose the possibility to link our &epsilon;'-Slider with the dendrogram.
    An example of what is considered a dendrogram in the context of d3.js can
be found here:</p>
<a href="https://bl.ocks.org/mbostock/4063570">Cluster Dendrogram by Mike Bostock</a>

<h3>d3 and javascript bundler</h3>
<p>
    we encountered several unsolved problems regarding the d3-library and the usage of javascript bundler like Babel or Webpack.
    Relevant discussions can be found on Github:
</p>
<ul>
<li><a href="https://github.com/d3/d3-brush/issues/9">brush.on("end", handle) seems to get raw "mouseup" events</a></li>
<li><a href="https://gist.github.com/Willmo36/9c13e3128dd628292252">d3-tip with browserify and webpack</a></li>
</ul>
<p>While the problem with the d3-tip subpackaged seems to be solveable, the loose of brushing events still is a problem in our project
    and meant to exclude the feature of a brush-selection in the reachability plot for now. <br/>
    the d3-README states:</p>
<blockquote>
    # d3.event <br/>
    [...]<br/>
    If you use Babel, Webpack, or another ES6-to-ES5 bundler, be aware that the value of d3.event changes during an event! An import of d3.event must be a live binding, so you may need to configure the bundler to import from D3’s ES6 modules rather than from the generated UMD bundle; not all bundlers observe jsnext:main. Also beware of conflicts with the window.event global.
</blockquote>
<p>
    A possible solution could be to forgo the use of webpack. As restructuring our project for this would be a time
    consuming task we decided to keep this option in mind for M4 and remove the reachability brush for now.
</p>
<h2> References </h2>
<p><cite>Mihael Ankerst, Markus M. Breunig, Hans-Peter Kriegel, Jörg Sander (1999). OPTICS: Ordering Points To Identify the Clustering Structure. ACM SIGMOD international conference on Management of data. ACM Press. pp. 49–60.</cite></p>
<p><cite>R. A. Fisher (1936). "The use of multiple measurements in taxonomic problems". Annals of Eugenics. 7 (2): 179–188.</cite></p>

<h2>Future Milestones</h2>
<p>Requirements for M3 providing minimal functionality</p>
<ul>
    <li>&#9989 - assesing the fitness of already existing OPTICS implementation or writing a own implementation of Optics</li>
    <li>&#9989   - reachability plot with colored clusters</li>
    <li>&#9989   - providing a option to load data from csv or json input</li>
    <li>&#9989   - representing 2D-Data in an euclidean space</li>
    <li>&#10060   - representing clustering results in a dendrogram - currently not possible</li>
</ul>
<p>Additional Requirements for M3/M4 resulting from our M2 proposal</p>
<ul>
    <li>&#10060 - adding a Brush to the reachibility plot - currently not possible</li>
    <li>&#9989 - adding a &epsilon;' slider to the reachability plot</li>
    <li>&#9989 - Spreadsheet for data editing</li>
    <li>&#10008 - representing clusters as a net</li>
    <li>&#10008 - representing cluster hierarchy as a graph</li>
    <li>&#10008  - decide on indices to use as similarity coefficients</li>
    <li>&#10008  - Implement Similarity Barchart</li>
</ul>
<p>Features which were originally not planned</p>
<ul>
    <li>&#9989 - highlighting with tooltip and rangequery visualization</li>
</ul>
<p>M3 requirement of 4 visualization techniques descussed in the lecture</p>
<ul>
    <li>&#9989 - hierarchical exploration <br/>
        combining scatter-, reachability-plot and the tableview with the &epsilon;' slider allows to explore all cluster hierarchies hidden in one OPTICS result</li>
    <li>&#9989 - scented widget <br/>
        &epsilon;' slider in the reachability plot</li>
    <li>&#9989 - tooltips <br/>
        highlighting points in the reachability plot show additional information via a tooltip and visualizes the rangequery in the scatterplot</li>
    <li>&#10008 - brushing & linking <br/>
        see "Open Challenges and Problems" - while all our views are linked, implementing a brush is curently not possible</li>

</ul>
<hr>

<h3>Separation of Tasks between Group Members for this Milestone</h3>

<ul>
    <li>Markus Hunner
        <ul>
            <li>Reachability Plot</li>
            <li>&epsilon;' slider</li>
            <li>Coloring function</li>
            <li>tooltips</li>
            <li>highlighting with range query</li>
            <li>Report (50%)</li>
        </ul>
    </li>
    <li>Gregor Redinger
        <ul>
            <li>Scatterplot</li>
            <li>Spreadsheet</li>
            <li>Setting up Boilerplate for Project</li>
            <li>Config Page</li>
            <li>Report(50%)</li>
        </ul>
    </li>
</ul>


</body>
</html>
